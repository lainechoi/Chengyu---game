<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>成語配對遊戲</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background-color: #fff8f0;
      text-align: center;
      padding: 20px;
    }
    h1 {
      color: #ff6f61;
    }
    .score {
      font-size: 18px;
      margin-bottom: 10px;
    }
    .board {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }
    .card {
      border: 2px solid #ccc;
      border-radius: 10px;
      padding: 10px;
      width: 120px;
      height: 120px;
      background-color: #fff;
      box-shadow: 2px 2px 5px #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    .card.selected {
      border-color: #ff6f61;
      box-shadow: 0 0 10px #ff6f61;
    }
    img {
      max-width: 100px;
      max-height: 100px;
      border-radius: 10px;
    }
  </style>
</head>
<body>

  <h1>成語配對遊戲</h1>
  <div class="score">分數：<span id="score">0</span></div>

  <h2>成語</h2>
  <div class="board" id="idioms"></div>

  <h2>圖片</h2>
  <div class="board" id="images"></div>

  <script>
    const idioms = [
      {
        text: "畫蛇添足",
        image: "Snake.png"
      },
      {
        text: "井底之蛙",
        image: "Frog.png"
      },
      {
        text: "對牛彈琴",
        image: "Cow.png"
      },
      {
        text: "指鹿為馬",
        image: "Deer.png"
      }
    ];

    let selectedIdiom = null;
    let score = 0;

    const idiomContainer = document.getElementById("idioms");
    const imageContainer = document.getElementById("images");
    const scoreDisplay = document.getElementById("score");

    idioms.forEach((item, index) => {
      const idiomCard = document.createElement("div");
      idiomCard.className = "card";
      idiomCard.innerText = item.text;
      idiomCard.onclick = () => {
        document.querySelectorAll(".card").forEach(c => c.classList.remove("selected"));
        idiomCard.classList.add("selected");
        selectedIdiom = index;
      };
      idiomContainer.appendChild(idiomCard);
    });

    idioms
      .map((item, index) => ({ ...item, index }))
      .sort(() => Math.random() - 0.5)
      .forEach(item => {
        const imageCard = document.createElement("div");
        imageCard.className = "card";
        const img = document.createElement("img");
        img.src = item.image;
        imageCard.appendChild(img);
        imageCard.onclick = () => {
          if (selectedIdiom !== null) {
            if (selectedIdiom === item.index) {
              alert("配對正確！");
              score++;
              scoreDisplay.innerText = score;
              imageCard.style.visibility = "hidden";
              idiomContainer.children[selectedIdiom].style.visibility = "hidden";
            } else {
              alert("錯了，請再試！");
            }
            selectedIdiom = null;
            document.querySelectorAll(".card").forEach(c => c.classList.remove("selected"));
          } else {
            alert("請先選擇一個成語！");
          }
        };
        imageContainer.appendChild(imageCard);
      });
  </script>
</body>
</html>
